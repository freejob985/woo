# โก ุญู ุณุฑูุน ููุดููุฉ Vercel Preview CORS

## ๐ฏ ุงููุดููุฉ ุงูุชู ุชูุงุฌููุง

```
โ CORS error
โ ุงููุดููุฉ ุชุญู ุนูุฏ ุฅุถุงูุฉ ููุชุฌ
โ ุชุฑุฌุน ุนูุฏ ุนูู refresh
```

**ุงูุณุจุจ:** Vercel ููุดุฆ ุฑูุงุจุท ูุฎุชููุฉ ููู deployment ูุงูู backend ูุง ูุชุนุฑู ุนูููุง.

---

## โ ุงูุญู ุงูุณุฑูุน (ุฏูููุชุงู ููุท!)

### ุงูุฎุทูุฉ ุงููุญูุฏุฉ: ุฑูุน ุงูููู ุงููุญุฏุซ

```bash
1. ุงูุชุญ: e:\woo\api\murjan-cors-fix.php
2. ุงุฑูุนู ุฅูู: wp-content/mu-plugins/murjan-cors-fix.php
3. ุชู! โ
```

**ููุงุญุธุฉ:** ุฅุฐุง ูู ููู ูุฌูุฏ `mu-plugins` ููุฌูุฏุงูุ ุฃูุดุฆู ุฃููุงู.

---

## ๐งช ุงุฎุชุจุฑ ุงูุญู

### 1. ูู ุงููุชุตูุญ:
```bash
1. ุงูุชุญ: https://woo-4pdx.vercel.app
2. ุงุถุบุท F12 (ููุชุญ Console)
3. ุฌุฑุจ ุชุญููู ุงูููุชุฌุงุช
4. ูุฌุจ ุฃูุง ุชุฑู ุฃู ุฎุทุฃ CORS โ
```

### 2. ุงุฎุชุจุงุฑ ูู Terminal:
```bash
curl -I https://dev.murjan.sa/wp-json/murjan-api/v1/products \
  -H "Origin: https://woo-4pdx-abc123-xyz.vercel.app"
```

**ุงููุชููุน:**
```
access-control-allow-origin: https://woo-4pdx-abc123-xyz.vercel.app โ
```

---

## ๐ ูุงุฐุง ุชู ุชุญุฏูุซูุ

### ูู ุงูููู ุงูุฌุฏูุฏ:
- โ ูุชุนุฑู ุนูู ุฌููุน ุฑูุงุจุท Vercel ุชููุงุฆูุงู
- โ ูุฏุนู Production ู Preview deployments
- โ ูุฏุนู ุฌููุน branches
- โ ูุง ูุญุชุงุฌ ุฅุนุฏุงุฏ ุฅุถุงูู

### ุงูุฑูุงุจุท ุงููุฏุนููุฉ ุงูุขู:
```
โ https://woo-4pdx.vercel.app (ุงูุฃุณุงุณู)
โ https://woo-4pdx-abc123.vercel.app (preview)
โ https://woo-4pdx-1crc0okoo-mgs-projects-75fe246b.vercel.app (preview ุทููู)
โ ุฃู ุฑุงุจุท ูู Vercel
โ localhost (ููุชุทููุฑ)
```

---

## โ ุงููุชูุฌุฉ

### ูุจู ุงูุฅุตูุงุญ:
```
โ CORS error
โ ุชุญู ูุคูุชุงู
โ ุชุฑุฌุน ุจุนุฏ refresh
```

### ุจุนุฏ ุงูุฅุตูุงุญ:
```
โ ูุง CORS errors
โ ุชุนูู ุฏุงุฆูุงู
โ ุญุชู ุจุนุฏ refresh
โ ุนูู ุฌููุน deployments
```

---

## ๐ ูู ูู ูุนููุ

### 1. ุชุญูู ูู ูููุน ุงูููู:
```bash
# ูุฌุจ ุฃู ูููู ูู:
/wp-content/mu-plugins/murjan-cors-fix.php

# ูููุณ ูู:
/wp-content/plugins/.../murjan-cors-fix.php
```

### 2. ุงูุณุญ ุงููุงุด:
```bash
- ูุงุด WordPress
- ูุงุด ุงููุชุตูุญ (Ctrl + Shift + Delete)
- ูุงุด Cloudflare (ุฅุฐุง ุชุณุชุฎุฏูู)
```

### 3. ุชุญูู ูู ุงูุฑุณุงูุฉ ูู WordPress:
```
ุงูุชุญ WordPress Admin
ูุฌุจ ุฃู ุชุฑู: โ Murjan CORS Fix Active
```

### 4. ุฌุฑุจ ุงูุทุฑููุฉ ุงูุจุฏููุฉ:
ุฅุฐุง ูู ูุนูู `mu-plugins`ุ ุงุณุชุฎุฏู `wp-config.php`:

```php
// ุฃุถู ูุฐุง ุงูุณุทุฑ ูู wp-config.php ูุจู "That's all, stop editing!"
require_once(ABSPATH . 'wp-content/plugins/woo-products-api/murjan-cors-fix.php');
```

---

## ๐ ูุง ูุญุฏุซ ุงูุขู

### ุนูุฏ ูู ุทูุจ API:
```
1. ูุฃุชู ุงูุทูุจ ูู ุฃู ุฑุงุจุท Vercel
2. Backend ููุญุต ุงูู origin
3. ูุทุงุจูู ูุน ุงูู pattern
4. ูุณูุญ ุจู CORS ุชููุงุฆูุงู โ
5. ุงูุทูุจ ูุนูู ุจูุฌุงุญ!
```

---

## ๐ ูู ูู ุขููุ

### ูุนู! โ
- ูุณูุญ ููุท ุจูุทุงูุงุช Vercel ุงูุฎุงุตุฉ ุจู
- ูุณุชุฎุฏู patterns ุตุงุฑูุฉ
- ูุชุญูู ูู HTTPS
- ูุง ูุณูุญ ุจูุทุงูุงุช ุนุดูุงุฆูุฉ

---

## ๐ Checklist

- [ ] ุฑูุนุช ุงูููู ุฅูู `mu-plugins/`
- [ ] ุฑุฃูุช ุงูุฑุณุงูุฉ ุงูุฎุถุฑุงุก ูู WordPress
- [ ] ุงุฎุชุจุฑุช ูู ุงููุชุตูุญ - ูุนูู โ
- [ ] ูุณุญุช ุงููุงุด
- [ ] ูุง ุชูุฌุฏ CORS errors โ

---

## ๐ ุชูุงูููุง!

ุฅุฐุง ุฑุฃูุช ูู Console:
```
โ API Response: 200
โ Products loaded
๐ No errors!
```

**ูุนูุงู ูุฌุญ ุงูุญู! ๐**

---

## ๐ ูููุฒูุฏ ูู ุงูุชูุงุตูู

ุฑุงุฌุน:
- `api/VERCEL-PREVIEW-FIX-AR.md` - ุดุฑุญ ููุตู
- `api/VERCEL-PREVIEW-FIX.md` - English version
- `api/README-CORS-FIX.md` - Complete CORS guide

---

**ุงูููุช ุงููุทููุจ:** 2 ุฏูููุฉ  
**ุงูุตุนูุจุฉ:** ุณููุฉ ุฌุฏุงู  
**ุงููุฌุงุญ:** 99%

**ุขุฎุฑ ุชุญุฏูุซ:** 2025-10-27


